{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\nimport { Cell } from './Cell.mjs';\nimport { clone, isPlainObject, isFunction, isString, isNumber } from '../util/index.mjs';\nimport { Point, Polyline } from '../g/index.mjs'; // Link base model.\n// --------------------------\n\nexport const Link = Cell.extend({\n  // The default markup for links.\n  markup: ['<path class=\"connection\" stroke=\"black\" d=\"M 0 0 0 0\"/>', '<path class=\"marker-source\" fill=\"black\" stroke=\"black\" d=\"M 0 0 0 0\"/>', '<path class=\"marker-target\" fill=\"black\" stroke=\"black\" d=\"M 0 0 0 0\"/>', '<path class=\"connection-wrap\" d=\"M 0 0 0 0\"/>', '<g class=\"labels\"/>', '<g class=\"marker-vertices\"/>', '<g class=\"marker-arrowheads\"/>', '<g class=\"link-tools\"/>'].join(''),\n  toolMarkup: ['<g class=\"link-tool\">', '<g class=\"tool-remove\" event=\"remove\">', '<circle r=\"11\" />', '<path transform=\"scale(.8) translate(-16, -16)\" d=\"M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z\" />', '<title>Remove link.</title>', '</g>', '<g class=\"tool-options\" event=\"link:options\">', '<circle r=\"11\" transform=\"translate(25)\"/>', '<path fill=\"white\" transform=\"scale(.55) translate(29, -16)\" d=\"M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z\"/>', '<title>Link options.</title>', '</g>', '</g>'].join(''),\n  doubleToolMarkup: undefined,\n  // The default markup for showing/removing vertices. These elements are the children of the .marker-vertices element (see `this.markup`).\n  // Only .marker-vertex and .marker-vertex-remove element have special meaning. The former is used for\n  // dragging vertices (changing their position). The latter is used for removing vertices.\n  vertexMarkup: ['<g class=\"marker-vertex-group\" transform=\"translate(<%= x %>, <%= y %>)\">', '<circle class=\"marker-vertex\" idx=\"<%= idx %>\" r=\"10\" />', '<path class=\"marker-vertex-remove-area\" idx=\"<%= idx %>\" d=\"M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z\" transform=\"translate(5, -33)\"/>', '<path class=\"marker-vertex-remove\" idx=\"<%= idx %>\" transform=\"scale(.8) translate(9.5, -37)\" d=\"M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z\">', '<title>Remove vertex.</title>', '</path>', '</g>'].join(''),\n  arrowheadMarkup: ['<g class=\"marker-arrowhead-group marker-arrowhead-group-<%= end %>\">', '<path class=\"marker-arrowhead\" end=\"<%= end %>\" d=\"M 26 0 L 0 13 L 26 26 z\" />', '</g>'].join(''),\n  // may be overwritten by user to change default label (its markup, attrs, position)\n  defaultLabel: undefined,\n  // deprecated\n  // may be overwritten by user to change default label markup\n  // lower priority than defaultLabel.markup\n  labelMarkup: undefined,\n  // private\n  _builtins: {\n    defaultLabel: {\n      // builtin default markup:\n      // used if neither defaultLabel.markup\n      // nor label.markup is set\n      markup: [{\n        tagName: 'rect',\n        selector: 'rect' // faster than tagName CSS selector\n\n      }, {\n        tagName: 'text',\n        selector: 'text' // faster than tagName CSS selector\n\n      }],\n      // builtin default attributes:\n      // applied only if builtin default markup is used\n      attrs: {\n        text: {\n          fill: '#000000',\n          fontSize: 14,\n          textAnchor: 'middle',\n          yAlignment: 'middle',\n          pointerEvents: 'none'\n        },\n        rect: {\n          ref: 'text',\n          fill: '#ffffff',\n          rx: 3,\n          ry: 3,\n          refWidth: 1,\n          refHeight: 1,\n          refX: 0,\n          refY: 0\n        }\n      },\n      // builtin default position:\n      // used if neither defaultLabel.position\n      // nor label.position is set\n      position: {\n        distance: 0.5\n      }\n    }\n  },\n  defaults: {\n    type: 'link',\n    source: {},\n    target: {}\n  },\n  isLink: function () {\n    return true;\n  },\n  disconnect: function (opt) {\n    return this.set({\n      source: {\n        x: 0,\n        y: 0\n      },\n      target: {\n        x: 0,\n        y: 0\n      }\n    }, opt);\n  },\n  source: function (source, args, opt) {\n    // getter\n    if (source === undefined) {\n      return clone(this.get('source'));\n    } // setter\n\n\n    var setSource;\n    var setOpt; // `source` is a cell\n    // take only its `id` and combine with `args`\n\n    var isCellProvided = source instanceof Cell;\n\n    if (isCellProvided) {\n      // three arguments\n      setSource = clone(args) || {};\n      setSource.id = source.id;\n      setOpt = opt;\n      return this.set('source', setSource, setOpt);\n    } // `source` is a point-like object\n    // for example, a g.Point\n    // take only its `x` and `y` and combine with `args`\n\n\n    var isPointProvided = !isPlainObject(source);\n\n    if (isPointProvided) {\n      // three arguments\n      setSource = clone(args) || {};\n      setSource.x = source.x;\n      setSource.y = source.y;\n      setOpt = opt;\n      return this.set('source', setSource, setOpt);\n    } // `source` is an object\n    // no checking\n    // two arguments\n\n\n    setSource = source;\n    setOpt = args;\n    return this.set('source', setSource, setOpt);\n  },\n  target: function (target, args, opt) {\n    // getter\n    if (target === undefined) {\n      return clone(this.get('target'));\n    } // setter\n\n\n    var setTarget;\n    var setOpt; // `target` is a cell\n    // take only its `id` argument and combine with `args`\n\n    var isCellProvided = target instanceof Cell;\n\n    if (isCellProvided) {\n      // three arguments\n      setTarget = clone(args) || {};\n      setTarget.id = target.id;\n      setOpt = opt;\n      return this.set('target', setTarget, setOpt);\n    } // `target` is a point-like object\n    // for example, a g.Point\n    // take only its `x` and `y` and combine with `args`\n\n\n    var isPointProvided = !isPlainObject(target);\n\n    if (isPointProvided) {\n      // three arguments\n      setTarget = clone(args) || {};\n      setTarget.x = target.x;\n      setTarget.y = target.y;\n      setOpt = opt;\n      return this.set('target', setTarget, setOpt);\n    } // `target` is an object\n    // no checking\n    // two arguments\n\n\n    setTarget = target;\n    setOpt = args;\n    return this.set('target', setTarget, setOpt);\n  },\n  router: function (name, args, opt) {\n    // getter\n    if (name === undefined) {\n      var router = this.get('router');\n\n      if (!router) {\n        if (this.get('manhattan')) return {\n          name: 'orthogonal'\n        }; // backwards compatibility\n\n        return null;\n      }\n\n      if (typeof router === 'object') return clone(router);\n      return router; // e.g. a function\n    } // setter\n\n\n    var isRouterProvided = typeof name === 'object' || typeof name === 'function';\n    var localRouter = isRouterProvided ? name : {\n      name: name,\n      args: args\n    };\n    var localOpt = isRouterProvided ? args : opt;\n    return this.set('router', localRouter, localOpt);\n  },\n  connector: function (name, args, opt) {\n    // getter\n    if (name === undefined) {\n      var connector = this.get('connector');\n\n      if (!connector) {\n        if (this.get('smooth')) return {\n          name: 'smooth'\n        }; // backwards compatibility\n\n        return null;\n      }\n\n      if (typeof connector === 'object') return clone(connector);\n      return connector; // e.g. a function\n    } // setter\n\n\n    var isConnectorProvided = typeof name === 'object' || typeof name === 'function';\n    var localConnector = isConnectorProvided ? name : {\n      name: name,\n      args: args\n    };\n    var localOpt = isConnectorProvided ? args : opt;\n    return this.set('connector', localConnector, localOpt);\n  },\n  // Labels API\n  // A convenient way to set labels. Currently set values will be mixined with `value` if used as a setter.\n  label: function (idx, label, opt) {\n    var labels = this.labels();\n    idx = isFinite(idx) && idx !== null ? idx | 0 : 0;\n    if (idx < 0) idx = labels.length + idx; // getter\n\n    if (arguments.length <= 1) return this.prop(['labels', idx]); // setter\n\n    return this.prop(['labels', idx], label, opt);\n  },\n  labels: function (labels, opt) {\n    // getter\n    if (arguments.length === 0) {\n      labels = this.get('labels');\n      if (!Array.isArray(labels)) return [];\n      return labels.slice();\n    } // setter\n\n\n    if (!Array.isArray(labels)) labels = [];\n    return this.set('labels', labels, opt);\n  },\n  hasLabels: function () {\n    const {\n      labels\n    } = this.attributes;\n    return Array.isArray(labels) && labels.length > 0;\n  },\n  insertLabel: function (idx, label, opt) {\n    if (!label) throw new Error('dia.Link: no label provided');\n    var labels = this.labels();\n    var n = labels.length;\n    idx = isFinite(idx) && idx !== null ? idx | 0 : n;\n    if (idx < 0) idx = n + idx + 1;\n    labels.splice(idx, 0, label);\n    return this.labels(labels, opt);\n  },\n  // convenience function\n  // add label to end of labels array\n  appendLabel: function (label, opt) {\n    return this.insertLabel(-1, label, opt);\n  },\n  removeLabel: function (idx, opt) {\n    var labels = this.labels();\n    idx = isFinite(idx) && idx !== null ? idx | 0 : -1;\n    labels.splice(idx, 1);\n    return this.labels(labels, opt);\n  },\n  // Vertices API\n  vertex: function (idx, vertex, opt) {\n    var vertices = this.vertices();\n    idx = isFinite(idx) && idx !== null ? idx | 0 : 0;\n    if (idx < 0) idx = vertices.length + idx; // getter\n\n    if (arguments.length <= 1) return this.prop(['vertices', idx]); // setter\n\n    var setVertex = this._normalizeVertex(vertex);\n\n    return this.prop(['vertices', idx], setVertex, opt);\n  },\n  vertices: function (vertices, opt) {\n    // getter\n    if (arguments.length === 0) {\n      vertices = this.get('vertices');\n      if (!Array.isArray(vertices)) return [];\n      return vertices.slice();\n    } // setter\n\n\n    if (!Array.isArray(vertices)) vertices = [];\n    var setVertices = [];\n\n    for (var i = 0; i < vertices.length; i++) {\n      var vertex = vertices[i];\n\n      var setVertex = this._normalizeVertex(vertex);\n\n      setVertices.push(setVertex);\n    }\n\n    return this.set('vertices', setVertices, opt);\n  },\n  insertVertex: function (idx, vertex, opt) {\n    if (!vertex) throw new Error('dia.Link: no vertex provided');\n    var vertices = this.vertices();\n    var n = vertices.length;\n    idx = isFinite(idx) && idx !== null ? idx | 0 : n;\n    if (idx < 0) idx = n + idx + 1;\n\n    var setVertex = this._normalizeVertex(vertex);\n\n    vertices.splice(idx, 0, setVertex);\n    return this.vertices(vertices, opt);\n  },\n  removeVertex: function (idx, opt) {\n    var vertices = this.vertices();\n    idx = isFinite(idx) && idx !== null ? idx | 0 : -1;\n    vertices.splice(idx, 1);\n    return this.vertices(vertices, opt);\n  },\n  _normalizeVertex: function (vertex) {\n    // is vertex a point-like object?\n    // for example, a g.Point\n    var isPointProvided = !isPlainObject(vertex);\n    if (isPointProvided) return {\n      x: vertex.x,\n      y: vertex.y\n    }; // else: return vertex unchanged\n\n    return vertex;\n  },\n  // Transformations\n  translate: function (tx, ty, opt) {\n    // enrich the option object\n    opt = opt || {};\n    opt.translateBy = opt.translateBy || this.id;\n    opt.tx = tx;\n    opt.ty = ty;\n    return this.applyToPoints(function (p) {\n      return {\n        x: (p.x || 0) + tx,\n        y: (p.y || 0) + ty\n      };\n    }, opt);\n  },\n  scale: function (sx, sy, origin, opt) {\n    return this.applyToPoints(function (p) {\n      return Point(p).scale(sx, sy, origin).toJSON();\n    }, opt);\n  },\n  applyToPoints: function (fn, opt) {\n    if (!isFunction(fn)) {\n      throw new TypeError('dia.Link: applyToPoints expects its first parameter to be a function.');\n    }\n\n    var attrs = {};\n    var {\n      source,\n      target\n    } = this.attributes;\n\n    if (!source.id) {\n      attrs.source = fn(source);\n    }\n\n    if (!target.id) {\n      attrs.target = fn(target);\n    }\n\n    var vertices = this.vertices();\n\n    if (vertices.length > 0) {\n      attrs.vertices = vertices.map(fn);\n    }\n\n    return this.set(attrs, opt);\n  },\n  getSourcePoint: function () {\n    var sourceCell = this.getSourceCell();\n    if (!sourceCell) return new Point(this.source());\n    return sourceCell.getPointFromConnectedLink(this, 'source');\n  },\n  getTargetPoint: function () {\n    var targetCell = this.getTargetCell();\n    if (!targetCell) return new Point(this.target());\n    return targetCell.getPointFromConnectedLink(this, 'target');\n  },\n  getPointFromConnectedLink: function\n    /* link, endType */\n  () {\n    return this.getPolyline().pointAt(0.5);\n  },\n  getPolyline: function () {\n    const points = [this.getSourcePoint(), ...this.vertices().map(Point), this.getTargetPoint()];\n    return new Polyline(points);\n  },\n  getBBox: function () {\n    return this.getPolyline().bbox();\n  },\n  reparent: function (opt) {\n    var newParent;\n\n    if (this.graph) {\n      var source = this.getSourceElement();\n      var target = this.getTargetElement();\n      var prevParent = this.getParentCell();\n\n      if (source && target) {\n        if (source === target || source.isEmbeddedIn(target)) {\n          newParent = target;\n        } else if (target.isEmbeddedIn(source)) {\n          newParent = source;\n        } else {\n          newParent = this.graph.getCommonAncestor(source, target);\n        }\n      }\n\n      if (prevParent && (!newParent || newParent.id !== prevParent.id)) {\n        // Unembed the link if source and target has no common ancestor\n        // or common ancestor changed\n        prevParent.unembed(this, opt);\n      }\n\n      if (newParent) {\n        newParent.embed(this, opt);\n      }\n    }\n\n    return newParent;\n  },\n  hasLoop: function (opt) {\n    opt = opt || {};\n    var {\n      source,\n      target\n    } = this.attributes;\n    var sourceId = source.id;\n    var targetId = target.id;\n\n    if (!sourceId || !targetId) {\n      // Link \"pinned\" to the paper does not have a loop.\n      return false;\n    }\n\n    var loop = sourceId === targetId; // Note that there in the deep mode a link can have a loop,\n    // even if it connects only a parent and its embed.\n    // A loop \"target equals source\" is valid in both shallow and deep mode.\n\n    if (!loop && opt.deep && this.graph) {\n      var sourceElement = this.getSourceCell();\n      var targetElement = this.getTargetCell();\n      loop = sourceElement.isEmbeddedIn(targetElement) || targetElement.isEmbeddedIn(sourceElement);\n    }\n\n    return loop;\n  },\n  // unlike source(), this method returns null if source is a point\n  getSourceCell: function () {\n    const {\n      graph,\n      attributes\n    } = this;\n    var source = attributes.source;\n    return source && source.id && graph && graph.getCell(source.id) || null;\n  },\n  getSourceElement: function () {\n    var cell = this;\n    var visited = {};\n\n    do {\n      if (visited[cell.id]) return null;\n      visited[cell.id] = true;\n      cell = cell.getSourceCell();\n    } while (cell && cell.isLink());\n\n    return cell;\n  },\n  // unlike target(), this method returns null if target is a point\n  getTargetCell: function () {\n    const {\n      graph,\n      attributes\n    } = this;\n    var target = attributes.target;\n    return target && target.id && graph && graph.getCell(target.id) || null;\n  },\n  getTargetElement: function () {\n    var cell = this;\n    var visited = {};\n\n    do {\n      if (visited[cell.id]) return null;\n      visited[cell.id] = true;\n      cell = cell.getTargetCell();\n    } while (cell && cell.isLink());\n\n    return cell;\n  },\n  // Returns the common ancestor for the source element,\n  // target element and the link itself.\n  getRelationshipAncestor: function () {\n    var connectionAncestor;\n\n    if (this.graph) {\n      var cells = [this, this.getSourceElement(), // null if source is a point\n      this.getTargetElement() // null if target is a point\n      ].filter(function (item) {\n        return !!item;\n      });\n      connectionAncestor = this.graph.getCommonAncestor.apply(this.graph, cells);\n    }\n\n    return connectionAncestor || null;\n  },\n  // Is source, target and the link itself embedded in a given cell?\n  isRelationshipEmbeddedIn: function (cell) {\n    var cellId = isString(cell) || isNumber(cell) ? cell : cell.id;\n    var ancestor = this.getRelationshipAncestor();\n    return !!ancestor && (ancestor.id === cellId || ancestor.isEmbeddedIn(cellId));\n  },\n  // Get resolved default label.\n  _getDefaultLabel: function () {\n    var defaultLabel = this.get('defaultLabel') || this.defaultLabel || {};\n    var label = {};\n    label.markup = defaultLabel.markup || this.get('labelMarkup') || this.labelMarkup;\n    label.position = defaultLabel.position;\n    label.attrs = defaultLabel.attrs;\n    label.size = defaultLabel.size;\n    return label;\n  }\n}, {\n  endsEqual: function (a, b) {\n    var portsEqual = a.port === b.port || !a.port && !b.port;\n    return a.id === b.id && portsEqual;\n  }\n});","map":{"version":3,"names":["Cell","clone","isPlainObject","isFunction","isString","isNumber","Point","Polyline","Link","extend","markup","join","toolMarkup","doubleToolMarkup","undefined","vertexMarkup","arrowheadMarkup","defaultLabel","labelMarkup","_builtins","tagName","selector","attrs","text","fill","fontSize","textAnchor","yAlignment","pointerEvents","rect","ref","rx","ry","refWidth","refHeight","refX","refY","position","distance","defaults","type","source","target","isLink","disconnect","opt","set","x","y","args","get","setSource","setOpt","isCellProvided","id","isPointProvided","setTarget","router","name","isRouterProvided","localRouter","localOpt","connector","isConnectorProvided","localConnector","label","idx","labels","isFinite","length","arguments","prop","Array","isArray","slice","hasLabels","attributes","insertLabel","Error","n","splice","appendLabel","removeLabel","vertex","vertices","setVertex","_normalizeVertex","setVertices","i","push","insertVertex","removeVertex","translate","tx","ty","translateBy","applyToPoints","p","scale","sx","sy","origin","toJSON","fn","TypeError","map","getSourcePoint","sourceCell","getSourceCell","getPointFromConnectedLink","getTargetPoint","targetCell","getTargetCell","getPolyline","pointAt","points","getBBox","bbox","reparent","newParent","graph","getSourceElement","getTargetElement","prevParent","getParentCell","isEmbeddedIn","getCommonAncestor","unembed","embed","hasLoop","sourceId","targetId","loop","deep","sourceElement","targetElement","getCell","cell","visited","getRelationshipAncestor","connectionAncestor","cells","filter","item","apply","isRelationshipEmbeddedIn","cellId","ancestor","_getDefaultLabel","size","endsEqual","a","b","portsEqual","port"],"sources":["C:/Users/Admin/dataflow-test/node_modules/jointjs/src/dia/Link.mjs"],"sourcesContent":["import { Cell } from './Cell.mjs';\nimport { clone, isPlainObject, isFunction, isString, isNumber } from '../util/index.mjs';\nimport { Point, Polyline } from '../g/index.mjs';\n\n// Link base model.\n// --------------------------\n\nexport const Link = Cell.extend({\n\n    // The default markup for links.\n    markup: [\n        '<path class=\"connection\" stroke=\"black\" d=\"M 0 0 0 0\"/>',\n        '<path class=\"marker-source\" fill=\"black\" stroke=\"black\" d=\"M 0 0 0 0\"/>',\n        '<path class=\"marker-target\" fill=\"black\" stroke=\"black\" d=\"M 0 0 0 0\"/>',\n        '<path class=\"connection-wrap\" d=\"M 0 0 0 0\"/>',\n        '<g class=\"labels\"/>',\n        '<g class=\"marker-vertices\"/>',\n        '<g class=\"marker-arrowheads\"/>',\n        '<g class=\"link-tools\"/>'\n    ].join(''),\n\n    toolMarkup: [\n        '<g class=\"link-tool\">',\n        '<g class=\"tool-remove\" event=\"remove\">',\n        '<circle r=\"11\" />',\n        '<path transform=\"scale(.8) translate(-16, -16)\" d=\"M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z\" />',\n        '<title>Remove link.</title>',\n        '</g>',\n        '<g class=\"tool-options\" event=\"link:options\">',\n        '<circle r=\"11\" transform=\"translate(25)\"/>',\n        '<path fill=\"white\" transform=\"scale(.55) translate(29, -16)\" d=\"M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z\"/>',\n        '<title>Link options.</title>',\n        '</g>',\n        '</g>'\n    ].join(''),\n\n    doubleToolMarkup: undefined,\n\n    // The default markup for showing/removing vertices. These elements are the children of the .marker-vertices element (see `this.markup`).\n    // Only .marker-vertex and .marker-vertex-remove element have special meaning. The former is used for\n    // dragging vertices (changing their position). The latter is used for removing vertices.\n    vertexMarkup: [\n        '<g class=\"marker-vertex-group\" transform=\"translate(<%= x %>, <%= y %>)\">',\n        '<circle class=\"marker-vertex\" idx=\"<%= idx %>\" r=\"10\" />',\n        '<path class=\"marker-vertex-remove-area\" idx=\"<%= idx %>\" d=\"M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z\" transform=\"translate(5, -33)\"/>',\n        '<path class=\"marker-vertex-remove\" idx=\"<%= idx %>\" transform=\"scale(.8) translate(9.5, -37)\" d=\"M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z\">',\n        '<title>Remove vertex.</title>',\n        '</path>',\n        '</g>'\n    ].join(''),\n\n    arrowheadMarkup: [\n        '<g class=\"marker-arrowhead-group marker-arrowhead-group-<%= end %>\">',\n        '<path class=\"marker-arrowhead\" end=\"<%= end %>\" d=\"M 26 0 L 0 13 L 26 26 z\" />',\n        '</g>'\n    ].join(''),\n\n    // may be overwritten by user to change default label (its markup, attrs, position)\n    defaultLabel: undefined,\n\n    // deprecated\n    // may be overwritten by user to change default label markup\n    // lower priority than defaultLabel.markup\n    labelMarkup: undefined,\n\n    // private\n    _builtins: {\n        defaultLabel: {\n            // builtin default markup:\n            // used if neither defaultLabel.markup\n            // nor label.markup is set\n            markup: [\n                {\n                    tagName: 'rect',\n                    selector: 'rect' // faster than tagName CSS selector\n                }, {\n                    tagName: 'text',\n                    selector: 'text' // faster than tagName CSS selector\n                }\n            ],\n            // builtin default attributes:\n            // applied only if builtin default markup is used\n            attrs: {\n                text: {\n                    fill: '#000000',\n                    fontSize: 14,\n                    textAnchor: 'middle',\n                    yAlignment: 'middle',\n                    pointerEvents: 'none'\n                },\n                rect: {\n                    ref: 'text',\n                    fill: '#ffffff',\n                    rx: 3,\n                    ry: 3,\n                    refWidth: 1,\n                    refHeight: 1,\n                    refX: 0,\n                    refY: 0\n                }\n            },\n            // builtin default position:\n            // used if neither defaultLabel.position\n            // nor label.position is set\n            position: {\n                distance: 0.5\n            }\n        }\n    },\n\n    defaults: {\n        type: 'link',\n        source: {},\n        target: {}\n    },\n\n    isLink: function() {\n\n        return true;\n    },\n\n    disconnect: function(opt) {\n\n        return this.set({\n            source: { x: 0, y: 0 },\n            target: { x: 0, y: 0 }\n        }, opt);\n    },\n\n    source: function(source, args, opt) {\n\n        // getter\n        if (source === undefined) {\n            return clone(this.get('source'));\n        }\n\n        // setter\n        var setSource;\n        var setOpt;\n\n        // `source` is a cell\n        // take only its `id` and combine with `args`\n        var isCellProvided = source instanceof Cell;\n        if (isCellProvided) { // three arguments\n            setSource = clone(args) || {};\n            setSource.id = source.id;\n            setOpt = opt;\n            return this.set('source', setSource, setOpt);\n        }\n\n        // `source` is a point-like object\n        // for example, a g.Point\n        // take only its `x` and `y` and combine with `args`\n        var isPointProvided = !isPlainObject(source);\n        if (isPointProvided) { // three arguments\n            setSource = clone(args) || {};\n            setSource.x = source.x;\n            setSource.y = source.y;\n            setOpt = opt;\n            return this.set('source', setSource, setOpt);\n        }\n\n        // `source` is an object\n        // no checking\n        // two arguments\n        setSource = source;\n        setOpt = args;\n        return this.set('source', setSource, setOpt);\n    },\n\n    target: function(target, args, opt) {\n\n        // getter\n        if (target === undefined) {\n            return clone(this.get('target'));\n        }\n\n        // setter\n        var setTarget;\n        var setOpt;\n\n        // `target` is a cell\n        // take only its `id` argument and combine with `args`\n        var isCellProvided = target instanceof Cell;\n        if (isCellProvided) { // three arguments\n            setTarget = clone(args) || {};\n            setTarget.id = target.id;\n            setOpt = opt;\n            return this.set('target', setTarget, setOpt);\n        }\n\n        // `target` is a point-like object\n        // for example, a g.Point\n        // take only its `x` and `y` and combine with `args`\n        var isPointProvided = !isPlainObject(target);\n        if (isPointProvided) { // three arguments\n            setTarget = clone(args) || {};\n            setTarget.x = target.x;\n            setTarget.y = target.y;\n            setOpt = opt;\n            return this.set('target', setTarget, setOpt);\n        }\n\n        // `target` is an object\n        // no checking\n        // two arguments\n        setTarget = target;\n        setOpt = args;\n        return this.set('target', setTarget, setOpt);\n    },\n\n    router: function(name, args, opt) {\n\n        // getter\n        if (name === undefined) {\n            var router = this.get('router');\n            if (!router) {\n                if (this.get('manhattan')) return { name: 'orthogonal' }; // backwards compatibility\n                return null;\n            }\n            if (typeof router === 'object') return clone(router);\n            return router; // e.g. a function\n        }\n\n        // setter\n        var isRouterProvided = ((typeof name === 'object') || (typeof name === 'function'));\n        var localRouter = isRouterProvided ? name : { name: name, args: args };\n        var localOpt = isRouterProvided ? args : opt;\n\n        return this.set('router', localRouter, localOpt);\n    },\n\n    connector: function(name, args, opt) {\n\n        // getter\n        if (name === undefined) {\n            var connector = this.get('connector');\n            if (!connector) {\n                if (this.get('smooth')) return { name: 'smooth' }; // backwards compatibility\n                return null;\n            }\n            if (typeof connector === 'object') return clone(connector);\n            return connector; // e.g. a function\n        }\n\n        // setter\n        var isConnectorProvided = ((typeof name === 'object' || typeof name === 'function'));\n        var localConnector = isConnectorProvided ? name : { name: name, args: args };\n        var localOpt = isConnectorProvided ? args : opt;\n\n        return this.set('connector', localConnector, localOpt);\n    },\n\n    // Labels API\n\n    // A convenient way to set labels. Currently set values will be mixined with `value` if used as a setter.\n    label: function(idx, label, opt) {\n\n        var labels = this.labels();\n\n        idx = (isFinite(idx) && idx !== null) ? (idx | 0) : 0;\n        if (idx < 0) idx = labels.length + idx;\n\n        // getter\n        if (arguments.length <= 1) return this.prop(['labels', idx]);\n        // setter\n        return this.prop(['labels', idx], label, opt);\n    },\n\n    labels: function(labels, opt) {\n\n        // getter\n        if (arguments.length === 0) {\n            labels = this.get('labels');\n            if (!Array.isArray(labels)) return [];\n            return labels.slice();\n        }\n        // setter\n        if (!Array.isArray(labels)) labels = [];\n        return this.set('labels', labels, opt);\n    },\n\n    hasLabels: function() {\n        const { labels } = this.attributes;\n        return Array.isArray(labels) && labels.length > 0;\n    },\n\n    insertLabel: function(idx, label, opt) {\n\n        if (!label) throw new Error('dia.Link: no label provided');\n\n        var labels = this.labels();\n        var n = labels.length;\n        idx = (isFinite(idx) && idx !== null) ? (idx | 0) : n;\n        if (idx < 0) idx = n + idx + 1;\n\n        labels.splice(idx, 0, label);\n        return this.labels(labels, opt);\n    },\n\n    // convenience function\n    // add label to end of labels array\n    appendLabel: function(label, opt) {\n\n        return this.insertLabel(-1, label, opt);\n    },\n\n    removeLabel: function(idx, opt) {\n\n        var labels = this.labels();\n        idx = (isFinite(idx) && idx !== null) ? (idx | 0) : -1;\n\n        labels.splice(idx, 1);\n        return this.labels(labels, opt);\n    },\n\n    // Vertices API\n\n    vertex: function(idx, vertex, opt) {\n\n        var vertices = this.vertices();\n\n        idx = (isFinite(idx) && idx !== null) ? (idx | 0) : 0;\n        if (idx < 0) idx = vertices.length + idx;\n\n        // getter\n        if (arguments.length <= 1) return this.prop(['vertices', idx]);\n\n        // setter\n        var setVertex = this._normalizeVertex(vertex);\n        return this.prop(['vertices', idx], setVertex, opt);\n    },\n\n    vertices: function(vertices, opt) {\n\n        // getter\n        if (arguments.length === 0) {\n            vertices = this.get('vertices');\n            if (!Array.isArray(vertices)) return [];\n            return vertices.slice();\n        }\n\n        // setter\n        if (!Array.isArray(vertices)) vertices = [];\n        var setVertices = [];\n        for (var i = 0; i < vertices.length; i++) {\n            var vertex = vertices[i];\n            var setVertex = this._normalizeVertex(vertex);\n            setVertices.push(setVertex);\n        }\n        return this.set('vertices', setVertices, opt);\n    },\n\n    insertVertex: function(idx, vertex, opt) {\n\n        if (!vertex) throw new Error('dia.Link: no vertex provided');\n\n        var vertices = this.vertices();\n        var n = vertices.length;\n        idx = (isFinite(idx) && idx !== null) ? (idx | 0) : n;\n        if (idx < 0) idx = n + idx + 1;\n\n        var setVertex = this._normalizeVertex(vertex);\n        vertices.splice(idx, 0, setVertex);\n        return this.vertices(vertices, opt);\n    },\n\n    removeVertex: function(idx, opt) {\n\n        var vertices = this.vertices();\n        idx = (isFinite(idx) && idx !== null) ? (idx | 0) : -1;\n\n        vertices.splice(idx, 1);\n        return this.vertices(vertices, opt);\n    },\n\n    _normalizeVertex: function(vertex) {\n\n        // is vertex a point-like object?\n        // for example, a g.Point\n        var isPointProvided = !isPlainObject(vertex);\n        if (isPointProvided) return { x: vertex.x, y: vertex.y };\n\n        // else: return vertex unchanged\n        return vertex;\n    },\n\n    // Transformations\n\n    translate: function(tx, ty, opt) {\n\n        // enrich the option object\n        opt = opt || {};\n        opt.translateBy = opt.translateBy || this.id;\n        opt.tx = tx;\n        opt.ty = ty;\n\n        return this.applyToPoints(function(p) {\n            return { x: (p.x || 0) + tx, y: (p.y || 0) + ty };\n        }, opt);\n    },\n\n    scale: function(sx, sy, origin, opt) {\n\n        return this.applyToPoints(function(p) {\n            return Point(p).scale(sx, sy, origin).toJSON();\n        }, opt);\n    },\n\n    applyToPoints: function(fn, opt) {\n\n        if (!isFunction(fn)) {\n            throw new TypeError('dia.Link: applyToPoints expects its first parameter to be a function.');\n        }\n\n        var attrs = {};\n\n        var { source, target } = this.attributes;\n        if (!source.id) {\n            attrs.source = fn(source);\n        }\n        if (!target.id) {\n            attrs.target = fn(target);\n        }\n\n        var vertices = this.vertices();\n        if (vertices.length > 0) {\n            attrs.vertices = vertices.map(fn);\n        }\n\n        return this.set(attrs, opt);\n    },\n\n    getSourcePoint: function() {\n        var sourceCell = this.getSourceCell();\n        if (!sourceCell) return new Point(this.source());\n        return sourceCell.getPointFromConnectedLink(this, 'source');\n    },\n\n    getTargetPoint: function() {\n        var targetCell = this.getTargetCell();\n        if (!targetCell) return new Point(this.target());\n        return targetCell.getPointFromConnectedLink(this, 'target');\n    },\n\n    getPointFromConnectedLink: function(/* link, endType */) {\n        return this.getPolyline().pointAt(0.5);\n    },\n\n    getPolyline: function() {\n        const points = [\n            this.getSourcePoint(),\n            ...this.vertices().map(Point),\n            this.getTargetPoint()\n        ];\n        return new Polyline(points);\n    },\n\n    getBBox: function() {\n        return this.getPolyline().bbox();\n    },\n\n    reparent: function(opt) {\n\n        var newParent;\n\n        if (this.graph) {\n\n            var source = this.getSourceElement();\n            var target = this.getTargetElement();\n            var prevParent = this.getParentCell();\n\n            if (source && target) {\n                if (source === target || source.isEmbeddedIn(target)) {\n                    newParent = target;\n                } else if (target.isEmbeddedIn(source)) {\n                    newParent = source;\n                } else {\n                    newParent = this.graph.getCommonAncestor(source, target);\n                }\n            }\n\n            if (prevParent && (!newParent || newParent.id !== prevParent.id)) {\n                // Unembed the link if source and target has no common ancestor\n                // or common ancestor changed\n                prevParent.unembed(this, opt);\n            }\n\n            if (newParent) {\n                newParent.embed(this, opt);\n            }\n        }\n\n        return newParent;\n    },\n\n    hasLoop: function(opt) {\n\n        opt = opt || {};\n\n        var { source, target } = this.attributes;\n        var sourceId = source.id;\n        var targetId = target.id;\n\n        if (!sourceId || !targetId) {\n            // Link \"pinned\" to the paper does not have a loop.\n            return false;\n        }\n\n        var loop = sourceId === targetId;\n\n        // Note that there in the deep mode a link can have a loop,\n        // even if it connects only a parent and its embed.\n        // A loop \"target equals source\" is valid in both shallow and deep mode.\n        if (!loop && opt.deep && this.graph) {\n\n            var sourceElement = this.getSourceCell();\n            var targetElement = this.getTargetCell();\n\n            loop = sourceElement.isEmbeddedIn(targetElement) || targetElement.isEmbeddedIn(sourceElement);\n        }\n\n        return loop;\n    },\n\n    // unlike source(), this method returns null if source is a point\n    getSourceCell: function() {\n\n        const { graph, attributes } = this;\n        var source = attributes.source;\n        return (source && source.id && graph && graph.getCell(source.id)) || null;\n    },\n\n    getSourceElement: function() {\n        var cell = this;\n        var visited = {};\n        do {\n            if (visited[cell.id]) return null;\n            visited[cell.id] = true;\n            cell = cell.getSourceCell();\n        } while (cell && cell.isLink());\n        return cell;\n    },\n\n    // unlike target(), this method returns null if target is a point\n    getTargetCell: function() {\n\n        const { graph, attributes } = this;\n        var target = attributes.target;\n        return (target && target.id && graph && graph.getCell(target.id)) || null;\n    },\n\n    getTargetElement: function() {\n        var cell = this;\n        var visited = {};\n        do {\n            if (visited[cell.id]) return null;\n            visited[cell.id] = true;\n            cell = cell.getTargetCell();\n        } while (cell && cell.isLink());\n        return cell;\n    },\n\n    // Returns the common ancestor for the source element,\n    // target element and the link itself.\n    getRelationshipAncestor: function() {\n\n        var connectionAncestor;\n\n        if (this.graph) {\n\n            var cells = [\n                this,\n                this.getSourceElement(), // null if source is a point\n                this.getTargetElement() // null if target is a point\n            ].filter(function(item) {\n                return !!item;\n            });\n\n            connectionAncestor = this.graph.getCommonAncestor.apply(this.graph, cells);\n        }\n\n        return connectionAncestor || null;\n    },\n\n    // Is source, target and the link itself embedded in a given cell?\n    isRelationshipEmbeddedIn: function(cell) {\n\n        var cellId = (isString(cell) || isNumber(cell)) ? cell : cell.id;\n        var ancestor = this.getRelationshipAncestor();\n\n        return !!ancestor && (ancestor.id === cellId || ancestor.isEmbeddedIn(cellId));\n    },\n\n    // Get resolved default label.\n    _getDefaultLabel: function() {\n\n        var defaultLabel = this.get('defaultLabel') || this.defaultLabel || {};\n\n        var label = {};\n        label.markup = defaultLabel.markup || this.get('labelMarkup') || this.labelMarkup;\n        label.position = defaultLabel.position;\n        label.attrs = defaultLabel.attrs;\n        label.size = defaultLabel.size;\n\n        return label;\n    }\n}, {\n\n    endsEqual: function(a, b) {\n\n        var portsEqual = a.port === b.port || !a.port && !b.port;\n        return a.id === b.id && portsEqual;\n    }\n});\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}